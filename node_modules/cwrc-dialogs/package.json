{
  "_args": [
    [
      {
        "raw": "cwrc-dialogs@github:cwrc/CWRC-Dialogs#npm",
        "scope": null,
        "escapedName": "cwrc-dialogs",
        "name": "cwrc-dialogs",
        "rawSpec": "github:cwrc/CWRC-Dialogs#npm",
        "spec": "github:cwrc/CWRC-Dialogs#npm",
        "type": "hosted",
        "hosted": {
          "type": "github",
          "ssh": "git@github.com:cwrc/CWRC-Dialogs.git#npm",
          "sshUrl": "git+ssh://git@github.com/cwrc/CWRC-Dialogs.git#npm",
          "httpsUrl": "git+https://github.com/cwrc/CWRC-Dialogs.git#npm",
          "gitUrl": "git://github.com/cwrc/CWRC-Dialogs.git#npm",
          "shortcut": "github:cwrc/CWRC-Dialogs#npm",
          "directUrl": "https://raw.githubusercontent.com/cwrc/CWRC-Dialogs/npm/package.json"
        }
      },
      "C:\\wamp\\www\\cwrc-main-site-repo\\sites\\default\\modules\\islandora_cwrc_writer"
    ]
  ],
  "_from": "cwrc/CWRC-Dialogs#npm",
  "_id": "cwrc-dialogs@1.0.0",
  "_inCache": true,
  "_location": "/cwrc-dialogs",
  "_phantomChildren": {},
  "_requested": {
    "raw": "cwrc-dialogs@github:cwrc/CWRC-Dialogs#npm",
    "scope": null,
    "escapedName": "cwrc-dialogs",
    "name": "cwrc-dialogs",
    "rawSpec": "github:cwrc/CWRC-Dialogs#npm",
    "spec": "github:cwrc/CWRC-Dialogs#npm",
    "type": "hosted",
    "hosted": {
      "type": "github",
      "ssh": "git@github.com:cwrc/CWRC-Dialogs.git#npm",
      "sshUrl": "git+ssh://git@github.com/cwrc/CWRC-Dialogs.git#npm",
      "httpsUrl": "git+https://github.com/cwrc/CWRC-Dialogs.git#npm",
      "gitUrl": "git://github.com/cwrc/CWRC-Dialogs.git#npm",
      "shortcut": "github:cwrc/CWRC-Dialogs#npm",
      "directUrl": "https://raw.githubusercontent.com/cwrc/CWRC-Dialogs/npm/package.json"
    }
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "git://github.com/cwrc/CWRC-Dialogs.git#fcecf3044fca5a140a08414afecf2cbdc16a3200",
  "_shasum": "712460677be03c1a39e5edd88111babe6d102531",
  "_shrinkwrap": null,
  "_spec": "cwrc-dialogs@github:cwrc/CWRC-Dialogs#npm",
  "_where": "C:\\wamp\\www\\cwrc-main-site-repo\\sites\\default\\modules\\islandora_cwrc_writer",
  "author": "",
  "browser": {
    "bootstrap-datepicker": "./js/lib/bootstrap-datepicker.js"
  },
  "browserify": {
    "transform": [
      "browserify-shim"
    ]
  },
  "browserify-shim": {
    "jquery": "global:$",
    "jquery-ui": {
      "depends": [
        "jquery:jQuery"
      ]
    },
    "bootstrap": {
      "depends": [
        "jquery:jQuery"
      ]
    },
    "bootstrap-datepicker": {
      "exports": "$.fn.datepicker",
      "depends": [
        "jquery:jQuery"
      ]
    }
  },
  "bugs": {
    "url": "https://github.com/cwrc/CWRC-Dialogs/issues"
  },
  "dependencies": {
    "bootstrap": "^3.2.0",
    "jquery": "^3.1.0",
    "jquery-ui": "^1.12.0",
    "knockout": "^2.3.0"
  },
  "description": "CWRC Dialogs ============",
  "devDependencies": {
    "browserify": "^13.0.1",
    "browserify-shim": "^3.2.0",
    "minifier": "^0.8.0"
  },
  "directories": {
    "doc": "doc"
  },
  "gitHead": "fcecf3044fca5a140a08414afecf2cbdc16a3200",
  "homepage": "https://github.com/cwrc/CWRC-Dialogs#readme",
  "license": "ISC",
  "main": "js/cD.js",
  "name": "cwrc-dialogs",
  "optionalDependencies": {},
  "readme": "CWRC Dialogs\n============\n\nThis project aims to provide a set of dialogs to peform lookups, create and edit 4 types of entities for all CWRC applications.\n\nThese entities include:\n\n+ person\n+ organization\n+ place\n+ title\n\nStatus\n------\n\nThe current version has a working lookup dialog that queries the CWRC repository and the VIAF data source.\n\nIn order to use the CWRC Dialogs the file `cD.js` needs to be included like any other javascript framework.\n\nAlso, the dialogs depend on the following frameworks and APIs:\n\n+ [jQuery](http://jquery.com)\n+ [jQueryUI](http://jqueryui.com) - For dragging modals\n+ [Knockoutjs](http://knockoutjs.com/)\n+ [Bootstrap](http://getbootstrap.com/)\n+ [Bootstrap datepicker](http://www.eyecon.ro/bootstrap-datepicker/)\n+ [CWRC API](https://github.com/cwrc/CWRC-ccm-rest-api)\n\nThe following is an example of all the files that need to be included:\n\n```\n\t<script src=\"js/jquery-1.11.0.js\"></script>\n\t<script src=\"js/jquery-ui-1.10.4.custom.js\"></script>\t\t\n\t<script src=\"js/knockout-2.3.0.js\"></script>\n\t<script src=\"js/bootstrap.js\"></script>\n\t<script src=\"js/bootstrap-datepicker.js\"></script>\n\t<script src=\"js/cwrc-api.js\"></script>\n\t<script src=\"js/cD.js\"></script>\n\t<script src=\"js/app.js\"></script>\n\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/bootstrap.css\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/datepicker.css\">\n\t<link rel=\"stylesheet\" href=\"font-awesome/css/font-awesome.min.css\">\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"css/cD.css\">\n```\t\t\n\n* Note: the \"fonts\" directory inlcuding the glyphicons needs to be available as well.\n\nA test application is included with the code. This application can be reached by opening the `index.html` file. The test application queries the solr engine and adds entries to a list. The application logic is located on the `app.js` file.\n\nFrom the `app.js` file you can see that the CWRC dialogs need to be initialized for the cwrc api to work. You can initialize it with the `initializeWithLogin` or `initializeWithCookieData` methods.\n\nService call urls can be customized by using the functions `setCwrcApi`, `setGeonameUrl`, and `setViafUrl`.\n\nThe location of entity schemas can be defined by using the functions `setPersonSchema`, `setOrganizationSchema`, or `setPlaceSchema`.\n\nThe interface as opened to the user includes:\n\n+ initializeWithCookieData\n+ initializeWithLogin\n+ popCreatePerson\n+ popCreateOrganization\n+ popCreatePlace\n+ popCreateTitle\n+ popSearchPerson\n+ popSearchOrganization\n+ popSearchPlace\n+ popSearchTitle\n+ popCreate \n+ popSearch\n+ popEdit\n+ setCwrcApi\n+ setRepositoryBaseObjectURL \n+ setGeonameUrl\n+ setGoogleGeocodeUrl \n+ setViafUrl\n+ setPersonSchema\n+ setOrganizationSchema\n+ setPlaceSchema\n\nThe dialogs can be initialized using the function initializeWithCookieData by passing in the data string representing the cookies containing the session information. The passed in cookie string must be in the format \"cookiename=cookiedata;\". Each cookie can be separated by a semicolon. This cookie string usually can be obtained by using the javascript function document.cookie. \n\nThe objects `popCreate`, `popSearch`, and `popEdit` provide key base access to the create and search dialogs respectively using the entity names as keys (person, organization etc.) \n\nMethods popCreatePerson, popCreateOrganization, popCreatePlace, popCreateTitle can take the following arguments as part of a hash:\n\n+ success - Function to execute when an entity is created.\n+ error - Function to execute when entity creation fails.\n+ startValue - Starting value for the dialog. \n\nWhen opening the search dialog on can pass different options to the call function that will modify the behaviour of the dialog.\n\n+ success - a function to be called when selecting an entry\n+ error - a function to call when an error occurs\n+ buttons - this array defines custom butons with ther actions, each entry in the array takes the form of an object with a `label` string and an `action` in the form of the function to be run on click.\n+ query - the search dialog will open with a search using this parameter\n\nAn example follows\n\n```\n\tvar customAction = function(data) {\n\n\t\tvar result = \"\";\n\t\tfor (var i in data) {\n\t\t\tif (data.hasOwnProperty(i)) {\n\t\t\t\tresult += i + \" : \" + data[i] + \"\t\";\n\t\t\t}\n\t\t}\n\n\t\t$(\"#resultHeader\").text(\"Result\");\n\t\t$(\"#entityXMLContainer\").text(result);\n\t};\n\n\tvar opts = {\n\t\tsuccess: function(result) {\n\t\t\t$(\"#resultHeader\").text(\"Added\");\n\t\t\t$(\"#entityXMLContainer\").text(JSON.stringify(result));\n\t\t},\n\t\terror : function(errorThrown) {\n\t\t\t$(\"#entityXMLContainer\").text(\"\");\n\t\t\t$(\"#resultHeader\").text(\"Entity \");\n\t\t},\n\t\tbuttons : [\n\t\t\t{\n\t\t\t\tlabel : \"Show response\",\n\t\t\t\taction : customAction\n\t\t\t}\n\t\t],\n\t\tquery : \"Bruce Wayne\"\n\t}\n\n\tcD.popSearchPerson(opts);\n```\n\nThe data return has the following format:\n\n+ name - name of entry as defined in the repository\n+ id - id corresponding to the entry in the repository\n+ uri - external facing uri representing the object\n+ repository - repository from where the entry was obtained\n+ data - raw data of the entry in text format as provided by the repository\n\nThe following is an example of a resulting object:\n\n```\nid : cwrc:640cbd44-fcfe-4d0a-b964-d10ae5bf68cb \nuri : http://commons.cwrc.ca/cwrc:640cbd44-fcfe-4d0a-b964-d10ae5bf68cb\nname : Austin \nrepository : cwrc \ndata : <?xml version=\"1.0\" encoding=\"UTF-8\"?> <?xml-model href=\"http://cwrc.ca/schema/person.rng\" type=\"application/xml\" schematypens=\"http://relaxng.org/ns/structure/1.0\"?> <entity> <person> <recordInfo> <originInfo> <projectId>eccji</projectId> </originInfo> <accessCondition type=\"use and reproduction\">Use of this public-domain resource is governed by the <a href=\"http://creativecommons.org/licenses/by-nc/3.0/\" rel=\"license\">Creative Commons Attribution-NonCommercial 3.0 Unported License</a>.</accessCondition> <personTypes> <personType>creator</personType> </personTypes> </recordInfo> <identity> <preferredForm> <namePart partType=\"surname\">Austin</namePart> <namePart partType=\"forename\">Prof.</namePart> </preferredForm> </identity> </person> </entity> \n\n```\n\nSearch\n------\n\nSearch dialogs can use a endpoints the CWRC entities, VIAF, Geonames, or the Google GeoCode endpoints.\n\nThe CWRC entities endpoint assumes a Solr based JSON response.  As of 2015-05-22, the Solr fields required:\n\n```\nobject_label\nobject_url\nPID\nnumFound\n```\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/cwrc/CWRC-Dialogs.git"
  },
  "scripts": {
    "browserify": "browserify js/cD.js --exclude jquery --standalone cD > dist/cD.js",
    "build": "npm run clean && npm run browserify && npm run css && npm run fonts",
    "clean": "rmdir dist /s /q & mkdir dist",
    "css": "mkdir dist\\css & minify --output dist/css/cD.css css/bootstrap.css css/datepicker.css font-awesome/css/font-awesome.css css/cD.css",
    "datepicker": "rename dist\\cD.js temp.js && copy /b js\\lib\\bootstrap-datepicker.js + dist\\temp.js dist\\cD.js && del dist\\temp.js",
    "fonts": "mkdir dist\\fonts & copy fonts\\ dist\\fonts & mkdir dist\\font-awesome\\fonts & copy font-awesome\\fonts dist\\font-awesome\\fonts"
  },
  "version": "1.0.0"
}
